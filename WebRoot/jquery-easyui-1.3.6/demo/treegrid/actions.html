<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>TreeGrid Actions - jQuery EasyUI Demo</title>
	<link rel="stylesheet" type="text/css" href="../../themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" href="../../themes/icon.css">
	<link rel="stylesheet" type="text/css" href="../demo.css">
	<script type="text/javascript" src="../../jquery.min.js"></script>
	<script type="text/javascript" src="../../jquery.easyui.min.js"></script>
</head>
<body>
	<h2>TreeGrid Actions</h2>
	<p>Click the buttons below to perform actions.</p>
	<div style="margin:20px 0;">
		<a href="javascript:void(0)" class="easyui-linkbutton" onclick="collapseAll()">CollapseAll</a>
		<a href="javascript:void(0)" class="easyui-linkbutton" onclick="expandAll()">ExpandAll</a>
		<a href="javascript:void(0)" class="easyui-linkbutton" onclick="expandTo()">ExpandTo</a>
	</div>
   <table id="tg" class="easyui-treegrid" 
        data-options="singleSelect:true,rownumbers:false,fit:true,collapsible:true,idField:'id',treeField:'name',
				method: 'get'">
 		<thead>
			<tr>
			<!--  -->
				<th data-options="field:'id',align:'center',width:35" ></th>
				
				<th data-options="field:'name',width:220,align:'left'">模板名称</th>
				<!-- 				
				<th data-options="field:'upload_desc',hidden:true">模板描述</th>
				<th data-options="field:'db_type',hidden:true">数据库类型</th>
				<th data-options="field:'conn_url',hidden:true">连接IP及端口</th>
				<th data-options="field:'conn_db',hidden:true">数据库</th>
				<th data-options="field:'conn_user',hidden:true">连接用户名</th>
				<th data-options="field:'conn_password',hidden:true">连接密码</th>
				<th data-options="field:'update_type',hidden:true">更新方法</th>
				<th data-options="field:'conn_table',hidden:true">业务表名</th>
				<th data-options="field:'upload_xml',hidden:true">字段集</th>
				 -->
			</tr>
		</thead>
       </table>
	<script type="text/javascript">
	var data={"rows":[
	{"id":1,"upload_name":"财务部","name":"财务部"},{"upload_id":"1493","upload_name":"学生表","upload_desc":"学生表","db_type":"2","conn_url":"localhost:2433","conn_db":"DS","conn_user":"sa","conn_password":"123321","conn_table":"dbo.student11","upload_xml":"[{\"case_field\":\"姓名\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_name\":\"name\"},{\"case_field\":\"年龄\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_name\":\"age\"},{\"case_field\":\"总分\",\"case_desc\":\"\",\"col_type\":\"float(53)\",\"col_name\":\"zf\"},{\"case_field\":\"其中\",\"case_desc\":\"\",\"col_type\":\"float(53)\",\"col_name\":\"qz1\"},{\"case_field\":\"编号\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"1\",\"col_name\":\"code\"}]","update_type":"2","ignore_type":"0","user_id":"1","dept_name":"财务部","create_dt":"20161116","data_flag":"1","id":11,"_parentId":1,"name":"学生表"},{"upload_id":"1495","upload_name":"Test","upload_desc":"测试表","db_type":"2","conn_url":"localhost:2433","conn_db":"DS","conn_user":"sa","conn_password":"123321","conn_table":"dbo.Test_Examdetail","upload_xml":"[{\"case_field\":\"月份\",\"case_desc\":\"\",\"col_type\":\"int(10)\",\"col_pk\":\"1\",\"col_name\":\"col1\",\"col_default\":\"'curM'\",\"default_val\":\"\"},{\"case_field\":\"考试区域所在省\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col2\"},{\"case_field\":\"考试区域\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col3\"},{\"case_field\":\"考试地点\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col4\"},{\"case_field\":\"美容顾问所在省\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col5\"},{\"case_field\":\"美容顾问所在市\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col6\"},{\"case_field\":\"美容顾问所在区\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col7\"},{\"case_field\":\"考试日期\",\"case_desc\":\"\",\"col_type\":\"datetime(23)\",\"col_pk\":\"0\",\"col_name\":\"col8\"},{\"case_field\":\"考试类型\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col9\"},{\"case_field\":\"编号\",\"case_desc\":\"\",\"col_type\":\"int(10)\",\"col_pk\":\"0\",\"col_name\":\"col10\"},{\"case_field\":\"考员姓名\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col11\"},{\"case_field\":\"综合结果\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col12\"},{\"case_field\":\"美容课技能考核分\",\"case_desc\":\"\",\"col_type\":\"int(10)\",\"col_pk\":\"0\",\"col_name\":\"col13\"},{\"case_field\":\"面试考核分\",\"case_desc\":\"\",\"col_type\":\"int(10)\",\"col_pk\":\"0\",\"col_name\":\"col14\"},{\"case_field\":\"顾客服务档案\",\"case_desc\":\"\",\"col_type\":\"int(10)\",\"col_pk\":\"0\",\"col_name\":\"col15\"},{\"case_field\":\"《事业成功两步曲》\",\"case_desc\":\"\",\"col_type\":\"int(10)\",\"col_pk\":\"0\",\"col_name\":\"col16\"},{\"case_field\":\"DIQ自我评估表\",\"case_desc\":\"\",\"col_type\":\"int(10)\",\"col_pk\":\"0\",\"col_name\":\"col17\"},{\"case_field\":\"NSD\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col18\"},{\"case_field\":\"NSDUNIT\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col19\"},{\"case_field\":\"LINE\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col21\"},{\"case_field\":\"宝石区域DIR专业职称\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col22\"},{\"case_field\":\"DIRNo\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col23\"},{\"case_field\":\"UNIT\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col25\"},{\"case_field\":\"DIR姓名\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col26\"},{\"case_field\":\"考评者类型\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col27\"},{\"case_field\":\"考评者\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col28\"},{\"case_field\":\"是否补考\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col29\"},{\"case_field\":\"补考考评者类型\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col30\"},{\"case_field\":\"补考考评者\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"0\",\"col_name\":\"col31\"}]","update_type":"3","ignore_type":"0","user_id":"1","dept_name":"财务部","create_dt":"20161128","data_flag":"1","id":12,"_parentId":1,"name":"Test"},{"id":2,"upload_name":"电脑部","name":"电脑部"},{"upload_id":"1535","upload_name":"checklist","upload_desc":"check","db_type":"2","conn_url":"localhost:2433","conn_db":"DS","conn_user":"","conn_password":"","conn_table":"dbo.Report_ForecastCheckList","upload_xml":"[{\"case_field\":\"\",\"case_desc\":\"\",\"col_type\":\"varchar(10)\",\"col_pk\":\"0\",\"col_name\":\"ProductionMonthKey\",\"default_val\":\"curM\"},{\"case_field\":\"PartNo.\",\"case_desc\":\"\",\"col_type\":\"varchar(20)\",\"col_pk\":\"1\",\"col_name\":\"PartCode\",\"default_val\":\"\"},{\"case_field\":\"Quantity\",\"case_desc\":\"\",\"col_name\":\"Quantity\",\"default_val\":\"\",\"col_type\":\"decimal(19)\",\"col_pk\":\"0\"},{\"case_field\":\"Description\",\"case_desc\":\"\",\"col_name\":\"PartName\",\"default_val\":\"\",\"col_type\":\"varchar(500)\",\"col_pk\":\"0\"},{\"case_field\":\"\",\"case_desc\":\"\",\"col_type\":\"varchar(50)\",\"col_pk\":\"1\",\"col_name\":\"UpdateTime\",\"default_val\":\"curMin\"}]","update_type":"2","ignore_type":"0","user_id":"0","dept_name":"电脑部","create_dt":"20161129","data_flag":"1","id":21,"_parentId":2,"name":"checklist"}
]}


		function formatProgress(value){
	    	if (value){
		    	var s = '<div style="width:100%;border:1px solid #ccc">' +
		    			'<div style="width:' + value + '%;background:#cc0000;color:#fff">' + value + '%' + '</div>'
		    			'</div>';
		    	return s;
	    	} else {
		    	return '';
	    	}
		}
		function collapseAll(){
			 $('#tg').treegrid('loadData',data);
		}
		function expandAll(){
			$('#tg').treegrid('expandAll');
		}
		function expandTo(){
			$('#tg').treegrid('expandTo',21).treegrid('select',21);
		}
	</script>
</body>
</html>